{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://example.com/schema.membership.json",
    "description": "Defines a user's membership",
    "properties":{
        "LastName": {
            "type": "string",
            "minLength": 2,
            "maxlength": 20
        },
        "GivenName":{
            "type": "string",
            "minLength": 2,
            "maxlength": 20
        },
        "MiddleName":{
            "type": "string",
            "minLength": 2,
            "maxlength": 20
        },
        "Birthdate": {
            "$ref": "#/$defs/BirthDate"
        },
        "Gender":{
            "enum": ["M", "F"] 
        },
        "ContactDetails":{
            "MobileNumber":{
                "pattern": "[0][0-9]{10}$"
            },
            "EmailAddress":{
                "pattern": "^[\\w\\-\\.]+@([\\w-]+\\.)+[\\w-]{2,}$"
            }
        },
        "Interests":{
            "type":"array",
            "minItems": 1
        },
        "Platforms":{
            "type":"array",
            "minItems": 1,
            "enum": ["PC", "Playstation", "XBox"]
        }
    },

    "$defs":{
        "Birthdate":{
            "type": "object",
            "description" : "Member's date of Birth",
            "properties":{
                "Year":{
                    "type": "integer",
                    "minimum": 1900,
                    "maximum": 2025
                },
                "Month":{
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 12
                },
                "Day":{
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 31
                }

            }

        }
    },

    "required":[
        "Membership",
        "Gender",
        "ContactDetails",
        "Interests",
        "Platforms"
    ]
}